<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>


    <header>
        <!-- Custom style for this site -->
    <link href="/Styles/Styles.css" rel="stylesheet">

    <img src="/CIT 261/Images/JS_CSS.png" alt=" Profile Picture" width="125" height="125">
        <h1> Mobile Application Development</h1>
    </header>

    

    <nav>
            <ul class="navigation">
                <li class="menu1"><a href="/index.html">Home</a></li>
                <li class="active"><a href="/CIT 261/Scripts/index.html">Mobile Application Development</a>   
                <li class="menu3"><a href="/Scripts/resume.html">Resume</a> 
                <li class="menu4"><a href="/Scripts/courses.html">Courses</a> 
                <li class="menu5"><a href="/Scripts/Gallery.html">Gallery</a>     
                <li class="menu6"><a href="/Scripts/contact.html">Contact</a>     
                             
            </ul>      
    </nav>
        <body>
           
        
      <main>
            <h1>Use JSON to perform an HTTP request to retrieve data from a remote location</h1>
            <p>JSON is most commonly used in asynchronous HTTP requests. This is where an application pulls data from another application via an HTTP request on the web.</p> 

            <h3>How Ajax Works</h3>

            <img src="" alt=" CIT 261 Logo" width="125" height="125">



            <li><a href="https://www.quackit.com/json/tutorial/artists.txt"> JSON Data</a></li>

            <li><a href="https://www.w3schools.com/js/js_ajax_http_response.asp"> The onreadystatechange Property</a></li>
            <li><a href="https://www.w3schools.com/js/js_ajax_intro.asp"> Information about AJAX</a></li>


            <!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%">{
  <span style="color: #BA2121">&quot;artists&quot;</span> <span style="color: #666666">:</span> [
  { 
    <span style="color: #BA2121">&quot;artistname&quot;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&quot;Leonard Cohen&quot;</span>,
    <span style="color: #BA2121">&quot;born&quot;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&quot;1934&quot;</span>
    },
  { 
    <span style="color: #BA2121">&quot;artistname&quot;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&quot;Joe Satriani&quot;</span>,
    <span style="color: #BA2121">&quot;born&quot;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&quot;1956&quot;</span> 
    },
  { 
    <span style="color: #BA2121">&quot;artistname&quot;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&quot;Snoop Dogg&quot;</span>,
    <span style="color: #BA2121">&quot;born&quot;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&quot;1971&quot;</span>

    }

    ]
}
</pre></div>


<p>Below is a sample HTML page that retrieves that JSON data via HTTP, and uses JavaScript to wrap it in HTML tags and output it to the HTML document.</p>


<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #666666">&lt;</span>script<span style="color: #666666">&gt;</span>
    <span style="color: #408080; font-style: italic">// Store XMLHttpRequest and the JSON file location in variables</span>
    <span style="color: #008000; font-weight: bold">var</span> xmlhttp <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> XMLHttpRequest();
    <span style="color: #008000; font-weight: bold">var</span> url <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;https://www.quackit.com/json/tutorial/artists.txt&quot;</span>;
    
    <span style="color: #408080; font-style: italic">// Called whenever the readyState attribute changes </span>
    xmlhttp.onreadystatechange <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">function</span>() {
    
      <span style="color: #408080; font-style: italic">// Check if fetch request is done</span>
      <span style="color: #008000; font-weight: bold">if</span> (xmlhttp.readyState <span style="color: #666666">==</span> <span style="color: #666666">4</span> <span style="color: #666666">&amp;&amp;</span> xmlhttp.status <span style="color: #666666">==</span> <span style="color: #666666">200</span>) { 
      
        <span style="color: #408080; font-style: italic">// Parse the JSON string</span>
        <span style="color: #008000; font-weight: bold">var</span> jsonData <span style="color: #666666">=</span> JSON.parse(xmlhttp.responseText);
        
        <span style="color: #408080; font-style: italic">// Call the showArtists(), passing in the parsed JSON string</span>
        showArtists(jsonData);
      }
    };
    
    <span style="color: #408080; font-style: italic">// Do the HTTP call using the url variable we specified above</span>
    xmlhttp.open(<span style="color: #BA2121">&quot;GET&quot;</span>, url, <span style="color: #008000; font-weight: bold">true</span>);
    xmlhttp.send();
    
    <span style="color: #408080; font-style: italic">// Function that formats the string with HTML tags, then outputs the result</span>
    <span style="color: #008000; font-weight: bold">function</span> showArtists(data) {
        <span style="color: #008000; font-weight: bold">var</span> output <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;&lt;ul&gt;&quot;</span>; <span style="color: #408080; font-style: italic">// Open list</span>
        <span style="color: #008000; font-weight: bold">var</span> i;
        
        <span style="color: #408080; font-style: italic">// Loop through the artists, and add them as list items</span>
        <span style="color: #008000; font-weight: bold">for</span> (<span style="color: #008000; font-weight: bold">var</span> i <span style="color: #008000; font-weight: bold">in</span> data.artists) {
            output <span style="color: #666666">+=</span> <span style="color: #BA2121">&quot;&lt;li&gt;&quot;</span> <span style="color: #666666">+</span> data.artists[i].artistname <span style="color: #666666">+</span> <span style="color: #BA2121">&quot; (Born: &quot;</span> <span style="color: #666666">+</span> data.artists[i].born <span style="color: #666666">+</span> <span style="color: #BA2121">&quot;)&lt;/li&gt;&quot;</span>; 
        }
        
        output <span style="color: #666666">+=</span> <span style="color: #BA2121">&quot;&lt;/ul&gt;&quot;</span>; <span style="color: #408080; font-style: italic">// Close list</span>
    
        <span style="color: #408080; font-style: italic">// Output the data to the &quot;artistlist&quot; element</span>
        <span style="color: #008000">document</span>.getElementById(<span style="color: #BA2121">&quot;artistList&quot;</span>).innerHTML <span style="color: #666666">=</span> output;
    }
    <span style="color: #666666">&lt;</span><span style="border: 1px solid #FF0000">/script&gt;</span>
    
    <span style="color: #408080; font-style: italic">&lt;!--</span> The output appears here <span style="color: #666666">--&gt;</span>
    <span style="color: #666666">&lt;</span>div id<span style="color: #666666">=</span><span style="color: #BA2121">&quot;artistList&quot;</span><span style="color: #666666">&gt;&lt;</span><span style="border: 1px solid #FF0000">/div&gt;</span>
    </pre></div>
    

    

<h2>Output</h2>

<ul> 
        <li>Leonard Cohen (Born: 1934)</li>
        <li>Joe Satriani (Born: 1956)</li>
        <li>Snoop Dogg (Born: 1971)</li>
    </ul>
            <script>
                    // Store XMLHttpRequest and the JSON file location in variables
                    var xhr = new XMLHttpRequest();
                    var url = "https://www.quackit.com/json/tutorial/artists.txt";
                    
                    // Called whenever the readyState attribute changes 
                    xhr.onreadystatechange = function() {
                    
                      // Check if fetch request is done
                      if (xhr.readyState == 4 && xhr.status == 200) { 
                      
                        // Parse the JSON string
                        var jsonData = JSON.parse(xhr.responseText);
                        
                        // Call the showArtists(), passing in the parsed JSON string
                        showArtists(jsonData);
                      }
                    };
                    
                    // Do the HTTP call using the url variable we specified above
                    xhr.open("GET", url, true);
                    xhr.send();
                    
                    // Function that formats the string with HTML tags, then outputs the result
                   
                    function showArtists(data) {
                        var output = "<ul>"; // Open list
                        var i;
                        
                        // Loop through the artists, and add them as list items
                        for (var i in data.artists) {
                            output += "<li>" + data.artists[i].artistname + " (Born: " + data.artists[i].born + ")</li>"; 
                        }
                        
                        output += "</ul>"; // Close list
                    
                        // Output the data to the "artistlist" element
                        document.getElementById("artistList").innerHTML = output;

                       
                    }
                    </script>
                    
                    <!-- The output appears here -->
                    <div id="artistList"></div>
                   
                   

    
</main>

    <footer>  © 2019 ★ <strong>CIT 261 Brigham Young University - Idaho </strong>★ Built by Laura Gibbs</p></footer>

</body>
</html>